<div class="container flex-wrap">
  <div class="row d-flex justify-content-center align-items-center">
    <form class="col form-inline mt-4">
      <input class="form-control mr-sm-2" #termoDaPesquisa type="search" placeholder="Pesquisar"
        (keyup)="pesquisa(termoDaPesquisa.value)" />
    </form>
  </div>
  <!-- <p>
    <a
      class=""
      style="text-decoration: none"
      data-bs-toggle="collapse"
      href="#collapseExample"
      role="button"
      aria-expanded="false"
      aria-controls="collapseExample"
    >
      filtros
    </a>
  </p> -->
  <!-- <div class="collapse" id="collapseExample">
      <div class="card card-body">
        <div class="form-check form-switch ">
          <input class="form-check-input" type="checkbox" id="localDescanso">
          <label class="form-check-label" for="localDescanso">local descanso</label>
        </div>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="voluntario">
          <label class="form-check-label" for="voluntario">Voluntário</label>
        </div>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="voluntario">
          <label class="form-check-label" for="voluntario">Voluntário</label>
        </div>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="voluntario">
          <label class="form-check-label" for="voluntario">Voluntário</label>
        </div>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="voluntario">
          <label class="form-check-label" for="voluntario">Voluntário</label>
        </div>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="voluntario">
          <label class="form-check-label" for="voluntario">Voluntário</label>
        </div>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="voluntario">
          <label class="form-check-label" for="voluntario">Voluntário</label>
        </div>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="voluntario">
          <label class="form-check-label" for="voluntario">Voluntário</label>
        </div>
      </div>
    </div> -->
  <hr />

  <div class="flex-container d-flex flex-column">
    <!-- 
        o que ainda falta fazer neste componente 
        verificar que tipo de lista será gerada para colocar os ngIFS
        Criar o componente mypage compartilhado
        ajustando as rotas do shared.routing.module
        ajustar o routerlinl


        -->

    <!-- Para admistradores -->

    <div *ngIf="loggedinUserType === 'ADMINISTRATOR' && typeListUsers === 'VOLUNTARY'
      ">
      <div class="list-group col" *ngFor="let item of volunteers$ | async">
        <div *ngIf="!item.typeVoluntary.chekbox4CasaDescanso" class="list-group">
          <a class="list-group-item list-group-item-action d-flex shadow bg-body rounded mb-2" aria-current="true"
            [routerLink]="['/sideBar/myPageAllUsers', item._id, item.typeUser]">
            <div class="divImgPrincipal">
              <ik-image class="imgPrincipal" [src]="item.urlsImage.urlImgPrincipal"
                [transformation]="transformationImg2">
              </ik-image>
            </div>
            <div class="col responsive">
              <div class="d-flex w-100 justify-content-between align-items-center">
                <p class="mb-1 fs-4 text">{{ item.nome }}</p>
                <small>{{ item.dataCad }}</small>
                <span [ngClass]="{
                    'bg-success': item.status == 'ATIVO',
                    'bg-secondary': item.status != 'ATIVO'
                  }" class="badge ms-1">{{ item.status }}</span>
              </div>
              <div class="d-flex">
                <div class="mt-3" *ngIf="item.dataNascimento != 'null'">
                  <p>{{ item.dataNascimento | dataIdade }},</p>
                </div>
                <p class="mb-1 m-3">{{ item.profissao }},</p>
                <div class="ml-3" *ngIf="!item.typeVoluntary.chekbox1Profissao">
                  <p class="mb-1 m-3">Profissional,</p>
                </div>
                <div *ngIf="!item.typeVoluntary.chekbox2Intercessor">
                  <p class="mb-1 m-3">Intercessor,</p>
                </div>
                <div *ngIf="!item.typeVoluntary.chekbox3Cuidador">
                  <p class="mb-1 m-3">Cuidador,</p>
                </div>
              </div>
            </div>
          </a>
        </div>
        <div *ngIf="item.typeVoluntary.chekbox4CasaDescanso" class="list-group">
          <a class="list-group-item list-group-item-action d-flex shadow bg-body rounded mb-2" aria-current="true"
            [routerLink]="['/sideBar/myPageAllUsers', item._id, item.typeUser]">
            <div class="divImgPrincipal">
              <div *ngIf="item.urlsImage.urlImgCasaDescansoPrincipal">
                <ik-image class="imgPrincipal" [src]="item.urlsImage.urlImgCasaDescansoPrincipal"
                  [transformation]="transformationImg2"></ik-image>
              </div>
              <div *ngIf="!item.urlsImage.urlImgCasaDescansoPrincipal">
                <img class="transformationImg2" src="./../../../../assets/imagens/CasaFerias.png" alt="" />
              </div>
            </div>
            <div class="col flex-wrap">
              <div class="d-flex w-100 justify-content-between align-items-center responsive">
                <p class="fs-4 text">
                  {{ item.localDescanso.nomeLocalDescanso }}
                </p>
                <div class="fs-6 text d-flex">
                  Proprietário:
                  <p class="fw-bolder ms-3">
                    {{ item.nome }}
                  </p>
                </div>
                <!-- <p class="mb-1 fs-5 text"> Proprietário: {{item.nome}}</p> -->
                <small class="mb-1">{{ item.dataCad }}</small>
                <span [ngClass]="{
                    'bg-success': item.status == 'ATIVO',
                    'bg-secondary': item.status != 'ATIVO'
                  }" class="badge">{{ item.status }}</span>
              </div>

              <div class="d-flex">
                <div>
                  <p class="mb-1 mt-3 me-3">
                    {{
                      item.localDescanso.enderecoLocalDescanso.ruaLocalDescanso
                    }},
                    {{
                      item.localDescanso.enderecoLocalDescanso
                        .bairroLocalDescanso
                    }},
                    {{
                      item.localDescanso.enderecoLocalDescanso
                        .cidadeLocalDescanso
                    }},
                    {{
                      item.localDescanso.enderecoLocalDescanso.ufLocalDescanso
                    }},
                  </p>
                </div>
                <div class="d-flex">
                  <p class="m-3" *ngIf="item.localDescanso.typeLocalDescanso.casaDePraia">
                    Casa de Praia,
                  </p>
                  <p class="m-3" *ngIf="item.localDescanso.typeLocalDescanso.casaDeCampo">
                    Casa de Campo,
                  </p>
                  <p class="m-3" *ngIf="item.localDescanso.typeLocalDescanso.pousada">
                    Pusada,
                  </p>
                  <p class="m-3" *ngIf="item.localDescanso.typeLocalDescanso.hotel">
                    Hotel,
                  </p>
                  <!-- <p class="mb-1 m-3">{{item.profissao}}</p> -->
                </div>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>

    <div *ngIf="loggedinUserType === 'ADMINISTRATOR' && typeListUsers === 'MISSIONARY'">
      <div class="list-group col" *ngFor="let item of missionaries$ | async">
        <div class="list-group">
          <a class="list-group-item list-group-item-action d-flex shadow bg-body rounded mb-2" aria-current="true"
            [routerLink]="['/sideBar/myPageAllUsers', item._id, item.typeUser]">
            <div class="divImgPrincipal">
              <ik-image class="imgPrincipal" [src]="item.urlsImage.urlImgPrincipal"
                [transformation]="transformationImg2">
              </ik-image>
            </div>
            <div class="col responsive">
              <div class="d-flex w-100 justify-content-between align-items-center">
                <p class="mb-1 fs-4 text">{{ item.nome }}</p>
                <small>{{ item.dataCad }}</small>
                <span [ngClass]="{
                    'bg-success': item.status == 'ATIVO',
                    'bg-secondary': item.status != 'ATIVO'
                  }" class="badge ms-1">{{ item.status }}</span>
              </div>
              <div class="d-flex">
                <div class="mt-3" *ngIf="item.dataNascimento != 'null'">
                  <p>{{ item.dataNascimento | dataIdade }},</p>
                </div>
                <p class="mb-1 m-3">{{ item.projeto }},</p>

                <div>
                  <p class="mb-1 m-3">{{item.vinculo}},</p>
                </div>
              </div>
            </div>
          </a>
        </div>

      </div>
    </div>

    <div *ngIf="loggedinUserType === 'ADMINISTRATOR' && typeListUsers === 'ADMINISTRATOR'">
      <div class="flex-container d-flex flex-column">
        <div class="list-group col" *ngFor="let item of administrators$ |async">
          <div class="list-group-item list-group-item-action d-flex shadow bg-body rounded mb-2" aria-current="true">
            <div class="divImgPrincipal">
              <div *ngIf="item.urlsImage.urlImgAdmin; then thenBlock; else elseBlock"></div>
              <ng-template #thenBlock>
                <ik-image [src]="item.urlsImage.urlImgAdmin" [transformation]="transformationImg2"></ik-image>
              </ng-template>
              <ng-template #elseBlock>
                <div *ngIf="item.sexo == 'F'">
                  <img class="transformationImg2"
                    src="https://avataaars.io/?avatarStyle=Circle&topType=LongHairCurvy&accessoriesType=Blank&hairColor=Black&facialHairType=Blank&clotheType=BlazerShirt&eyeType=Happy&eyebrowType=UpDown&mouthType=Smile&skinColor=Light"
                    alt="foto de avatar feminino" />
                </div>
                <div *ngIf="item.sexo == 'M' || item.sexo == 'null' ">
                  <img class="transformationImg2"
                    src='https://avataaars.io/?avatarStyle=Circle&topType=ShortHairShortCurly&accessoriesType=Prescription02&hairColor=Brown&facialHairType=BeardLight&facialHairColor=Blonde&clotheType=Hoodie&clotheColor=Blue03&eyeType=Squint&eyebrowType=RaisedExcited&mouthType=Twinkle&skinColor=Light' />
                </div>
              </ng-template>
            </div>
            <div class="col m-3">
              <div class="d-flex  w-100 justify-content-between ">
                <h5 class="mb-1 ">{{item.nome}}</h5>
                <small class="badge bg-success">{{item.typeUser}}</small>
              </div>
              <p class="mb-1">{{item.dataCad}}</p>
              <div *ngIf="item.dataNascimento != 'null'">
                <small>{{item.dataNascimento | dataIdade}}</small>
              </div>
            </div>
          </div>


        </div>
      </div>
    </div>

    <!-- Para voluntários -->
    <!-- se o usuário logado for um Voluntário e a lista for de missionários  -->
    <div *ngIf="loggedinUserType === 'VOLUNTARY' && typeListUsers === 'MISSIONARY'"></div>

    <!-- Para Missionários -->
    <!-- se o usuário logado for um Voluntário e a lista for de missionários  -->
    <div *ngIf="loggedinUserType === 'MISSIONARY' && typeListUsers === 'VOLUNTARY'"></div>



  </div>
</div>
